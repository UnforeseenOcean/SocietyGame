<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Society Game Host</title>
<link href="client/main_host.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<h1 id="quarterlyreports"> Quarterly Reports </h1>
	<table id="nations" align="center" border="0" cellpadding="20">
		<tbody>
			<tr>
			</tr>
			<tr>
			</tr>
		</tbody>
	</table>
    <p id="groupscore">
    sector: group_score </p>
<footer id="roundnumber">Round Number: 1</footer>

<!--socket-->
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>

<script type="text/javascript">
		var socket = io();

		var numberOfTeams = prompt("How many teams will there be?");
		var numberOfGroups = prompt("How many groups will there be?");
		var numberOfPlayers = prompt("How many players are there?");

		socket.emit('start', {
			numberOfTeams: numberOfTeams,
			numberOfGroups: numberOfGroups,
			numberOfPlayers: numberOfPlayers
		});

		var nationscore = 20 * numberOfGroups / numberOfPlayers;
		var individualscore = 20;
		var roundnumber = 1;
		//var nation = "Japan";
				
		// updateScores();
		
		// function updateScores(){
		// 	document.getElementById("nationscore").innerHTML = nation + "'s Score: " + nationscore;
		// }

		document.getElementById('nations').cellSpacing = 400 / numberOfTeams;
		for (var i = 1; i <= numberOfTeams; i++) {
			addNation(i);
		};
		
		function decision1(){
			worldscore += -1;
			nationscore += -2;
			individualscore += 2;
			updateScores();
		}
		
		function decision2(){
			worldscore += 0;
			nationscore += 2;
			individualscore += -1;
			updateScores();
		}
		
		function decision3(){
			worldscore += -1;
			nationscore += 1;
			individualscore += 1;
			updateScores();
		}
		
		function decision4(){
			worldscore += 2;
			nationscore += 0;
			individualscore += -1;
			updateScores();
		}
		
		socket.on('nextRound', function(data) {
			document.getElementById("roundnumber").innerHTML = "Round Number: " + data.roundNumber;
		});

		function createCell(cell, text, style) {
			var div = document.createElement('div');
			var txt = document.createTextNode(text);
			div.appendChild(txt);
			div.setAttribute('class', style);
			div.setAttribute('className', style);
			cell.appendChild(div);
		}

		function addNation(nation) {
			var nations = document.getElementById('nations');
			createCell(nations.rows[0].insertCell(nations.rows[0].cells.length), nation, 'col');
			createCell(nations.rows[1].insertCell(nations.rows[1].cells.length), "Nation Score: " + nationscore, 'col');
		}
		
		</script>
        
</body>
</html>
