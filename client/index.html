<!DOCTYPE html><head>
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link href="main_mobile.css" rel="stylesheet" type="text/css" />
    <title>Society</title>
</head>

<!--socket-->
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>

<script>
	var socket = io();
	var playerScore = 20;
	
	var playerNumberInput = prompt("What player number are you?");
	var teamNumberInput = prompt("What team are you on?");
	var groupNumberInput = prompt("What group are you in?");
	
	var playerNumber = playerNumberInput;
	var groupNumber = groupNumberInput;
	var teamNumber = teamNumberInput;
	
	socket.emit('playerConnect', {playerNumber: playerNumberInput, groupNumber: groupNumberInput, teamNumber: teamNumberInput});

	//initialize the data on individual screens
	socket.on('player', function(data) {
		//document.getElementById('playerNumber').innerHTML = "Player Number: " + playerNumber;
		document.getElementById('individualscore').innerHTML = "Individual Score: " + playerScore;
	});

	socket.on('timer', function(data) {
		//document.getElementById('timer').innerHTML = "Time Left: " + data.timer;
	});

	socket.on('world', function(data) {
		document.getElementById('worldscore').innerHTML = "World Score: " + data.world;
	});

	socket.on('team', function(data) {
		document.getElementById('nationscore').innerHTML = "Team Score: " + data.team;
	});
	
	socket.on('decisionUpdate', function(data) {
		console.log(data)
		playerScore = data.playerScore;
		document.getElementById('individualscore').innerHTML = "Individual Score: " + playerScore;
		document.getElementById('nationscore').innerHTML = "Team Score: " + data.teamScore;
		document.getElementById('worldscore').innerHTML = "World Score: " + data.world;
	});

	var decision1 = function() {
		socket.emit('decision1', {playerNumber: playerNumber, groupNumber: groupNumber, teamNumber: teamNumber});
		document.getElementById('decision1').disabled = true;
		document.getElementById('decision2').disabled = true;
		document.getElementById('decision3').disabled = true;
		document.getElementById('decision4').disabled = true;
	};
	
	var decision2 = function() {
		socket.emit('decision2', {playerNumber: playerNumber, groupNumber: groupNumber, teamNumber: teamNumber});
		document.getElementById('decision1').disabled = true;
		document.getElementById('decision2').disabled = true;
		document.getElementById('decision3').disabled = true;
		document.getElementById('decision4').disabled = true;
	};
	
	var decision3 = function() {
		socket.emit('decision3', {playerNumber: playerNumber, groupNumber: groupNumber, teamNumber: teamNumber});
		document.getElementById('decision1').disabled = true;
		document.getElementById('decision2').disabled = true;
		document.getElementById('decision3').disabled = true;
		document.getElementById('decision4').disabled = true;
	};
	
	var decision4 = function() {
		socket.emit('decision4', {playerNumber: playerNumber, groupNumber: groupNumber, teamNumber: teamNumber});
		document.getElementById('decision1').disabled = true;
		document.getElementById('decision2').disabled = true;
		document.getElementById('decision3').disabled = true;
		document.getElementById('decision4').disabled = true;
	};

	socket.on('enable', function(data) {
		document.getElementById('decision1').disabled = false;
		document.getElementById('decision2').disabled = false;
		document.getElementById('decision3').disabled = false;
		document.getElementById('decision4').disabled = false;
	});

	socket.on('nextRound', function(data) {
		document.getElementById('roundnumber').innerHTML = "Round: " + data.roundNumber;
	});

</script>



<div style=" width: 100%; text-align: center">
                    <h1 id="worldscore">worldscore</h1>
                    <h2 id="nationscore">insert number here</h2>
                    <h3 id="individualscore">insert number here</h3>
                  	<h4 id="timer">insert number here</h4>
                   	<h4 id="playerNumber">insert number here</h4>
                    <footer id="roundnumber">roundnumber</footer>
                    <button class="decision" id="decision1" onclick="decision1()">Be a shithead</button>
                    <h3></h3>
                    <button class="decision" id="decision2" onclick="decision2()">Team Player</button>
                    <h3></h3>
                    <button class="decision" id="decision3" onclick="decision3()">Mi casa, tu casa</button>
                    <h3></h3>
                    <button class="decision" id="decision4" onclick="decision4()">I drive a hybrid, bitch</button>
</div>